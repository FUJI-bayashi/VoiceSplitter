# VOICE SPLITTER

## **概要**

VoiceSplitterはWindows向けのコンソールアプリケーションで、wav形式の音声ファイルを解析して以下の二つの機能を提供します。

1. 音声の波形画像を生成します。
2. 特定の音量スパイクに基づいて、wavファイルを複数ファイルに分割します。

## 依存関係

- .NET 7.0 (Windows)
- NAudio 2.2.1
- System.Drawing.Common 7.0.0
- System.Runtime.InteropServices 4.3.0

### プラットフォーム

- Windows専用

## **設定**

設定は**`config.txt`**ファイルで管理されます。以下のオプションがあります。

- **`ImageHeight`**: 生成される波形画像の高さ（デフォルトは500）。
- **`ImageWidthMax`**: 生成される波形画像の最大幅（デフォルトは1920）。
- **`OutputImageName`**: 生成される波形画像の出力名（デフォルトは**`_waveform.png`**）。
- **`VolumeThreshold`**: 音量スパイクを検出するしきい値（デフォルトは0.1）。
- **`SpikeDetectionMultiplier`**: 音量スパイクの検出倍数（デフォルトは3）。
- **`QueueNum`**: 音量平均の計算に使用するサンプル数（デフォルトは10）。
- **`CoolDownSamples`**: 音量スパイク後の冷却サンプル数（デフォルトは20）。

## **使用方法**

1. **`Input`**フォルダに解析したいwav形式の音声ファイルを配置します。
2. アプリケーションを実行します。
3. 処理が完了すると、**`Output`**フォルダ内に分割されたwavファイルと波形画像が生成されます。
4. 好みの結果とならない場合は**`config.txt`**ファイルの値を編集してください。

## **`config.txt` ファイルの編集ガイド**

### **`ImageHeight`**

- **説明**: 出力される波形画像の高さをピクセル単位で設定します。
- **形式**: 整数（例: **`500`**）

### **`ImageWidthMax`**

- **説明**: 出力される波形画像の最大幅をピクセル単位で設定します。
- **形式**: 整数（例: **`1920`**）

### **`OutputImageName`**

- **説明**: 出力される波形画像のファイル名を設定します。
- **形式**: 文字列（例: **`_waveform.png`**）

### **`VolumeThreshold`**

- **説明**: 音量のしきい値を設定します。この値より小さい音は無視されます。
- **形式**: 浮動小数点数（例: **`0.1`**）

### **`SpikeDetectionMultiplier`**

- **説明**: スパイク検出の倍数を設定します。平均音量にこの値を掛けたものがスパイクのしきい値になります。
- **形式**: 浮動小数点数（例: **`3`**）

### **`QueueNum`**

- **説明**: 過去と未来の音量平均値を保持するキューのサイズを設定します。
- **形式**: 整数（例: **`10`**）

### **`CoolDownSamples`**

- **説明**: スパイク後のクールダウン期間を設定します。この期間中は新たなスパイクを検出しません。
- **形式**: 整数（例: **`20`**）

## **作成者**

- KITTYPOOL([https://kitty-pool.com](https://kitty-pool.com/))

## **ライセンス**

このプロジェクトはMITライセンスの下で公開されています。